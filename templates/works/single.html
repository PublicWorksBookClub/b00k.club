{# prettier-ignore-start #}
{% extends "page.html" %}
{% import "macro/json-ld.html" as json_ld %}

{% block extra_head %}
  <script type="application/ld+json">
  {%- set json = json_ld::abstract_text(doc=page) -%}
  {# For debugging #}
  {% if doc.extra.order in [] %}
  {{ throw(message=json) }}
  {% endif %}
  {%- set json = load_data(literal=json, format="json") -%}
  {{ json | json_encode | safe }}
  </script>
{% endblock extra_head %}
{% block article_heading %}
  <header id="heading">
    <h1 class="font-serif">{{ page.taxonomies.titles[0] }}</h1>
    <p>by <em>{{ page.taxonomies.authors | join(sep=", ") }}</em></p>
  </header>
{% endblock article_heading %}
{% block article_content %}
    <section>
      <h2>Abstract</h2>
      {{ page.extra.abstract | safe }}
    </section>
    <section>
      <table>
        <caption>Textual Taxonomy</caption>
        <thead>
          <tr>
            <th>Term</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Title(s)</td>
            <td>{{ page.taxonomies.titles | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>Author(s)</td>
            <td>
              {{ page.taxonomies.authors | join(sep=", ")}}
            </td>
          </tr>
          <tr>
            <td>Literary Form(s)</td>
            <td>{{ page.taxonomies.forms | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>Genre(s)</td>
            <td>{{ page.taxonomies.genres | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>Subject(s)</td>
            <td>{{ page.taxonomies.subjects | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>Period(s)</td>
            <td>{{ page.taxonomies.periods | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>Language(s)</td>
            <td>{{ page.taxonomies.languages | join(sep=", ")}}</td>
          </tr>
          <tr>
            <td>JSON-LD</td>
            <td><a href="{{ page.permalink }}">single</a> | <a href="/works/all.jsonld">all</a></td>
          </tr>
          <tr>
            <td>same as</td>
            <td>
              {% if page.extra.wikidata %}
              <a href="{{ page.extra.wikidata }}">wikidata</a>
              {% endif %}
              {% if page.extra.wikipedia %}
              <a href="{{ page.extra.wikipedia }}">wikipedia</a>
              {% endif %}
            </td>
          </tr>
        </tbody>
      </table>
      <table>
        <caption>General/Club Taxonomy</caption>
        <thead>
          <tr>
            <th>Term</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Arc(s)</td>
            <td>{{ page.taxonomies.arcs | join(sep=", ")}}</td>
          </tr>
          {% if page.taxonomies.contributors %}
          <tr>
            <td>Contributor(s)</td>
            <td>
              {{ page.taxonomies.contributors | join(sep=", ")}}
            </td>
          </tr>
          {% endif %}
          {% if page.taxonomies.references %}
          <tr>
            <td>Reference(s)</td>
            <td>{{ page.taxonomies.references | join(sep=", ")}}</td>
          </tr>
          {% endif %}
          {% if page.taxonomies.tags %}
          <tr>
            <td>Tag(s)</td>
            <td>{{ page.taxonomies.genres | join(sep=", ")}}</td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </section>
  {# <div id="content" class="font-fira-sans my-16 px-2 font-normal">{{ page.content | safe }}</div> #}
{% endblock article_content %}
{# prettier-ignore-end #}
